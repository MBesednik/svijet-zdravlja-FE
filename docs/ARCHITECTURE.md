# Admin Blog Form - Arhitektura i Tok Podataka

## System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ADMIN BLOG FORM                              â”‚
â”‚                   (create.html + admin-form.js)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                â”‚                â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
         â”‚  Validacija â”‚  â”‚  Media      â”‚  â”‚  API       â”‚
         â”‚  Podataka   â”‚  â”‚  Upload     â”‚  â”‚  Zahtjevi  â”‚
         â”‚             â”‚  â”‚             â”‚  â”‚            â”‚
         â”‚ â€¢ Title     â”‚  â”‚ â€¢ Slike     â”‚  â”‚ â€¢ POST     â”‚
         â”‚ â€¢ Slug      â”‚  â”‚ â€¢ Drag&Drop â”‚  â”‚ â€¢ PUT      â”‚
         â”‚ â€¢ Status    â”‚  â”‚ â€¢ Preview   â”‚  â”‚ â€¢ GET      â”‚
         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                â”‚                â”‚                â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚  FormData        â”‚
                        â”‚  Konverzija      â”‚
                        â”‚                  â”‚
                        â”‚ â€¢ payload JSON   â”‚
                        â”‚ â€¢ hero_image     â”‚
                        â”‚ â€¢ chapter_*.img  â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                         â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ JWT Header     â”‚      â”‚  Multipart Body  â”‚
            â”‚                â”‚      â”‚                  â”‚
            â”‚ Authorization: â”‚      â”‚ FormData         â”‚
            â”‚ Bearer {token} â”‚      â”‚ â€¢ payload        â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚ â€¢ datoteke       â”‚
                    â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚                        â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  HTTP zahtjev        â”‚
                    â”‚                      â”‚
                    â”‚ POST /api/admin/    â”‚
                    â”‚       posts         â”‚
                    â”‚ PUT /api/admin/     â”‚
                    â”‚     posts/{id}      â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚    BACKEND API       â”‚
                    â”‚                      â”‚
                    â”‚ â€¢ Validacija         â”‚
                    â”‚ â€¢ Upload datoteke    â”‚
                    â”‚ â€¢ Spremi u DB        â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  JSON Response       â”‚
                    â”‚                      â”‚
                    â”‚ {                   â”‚
                    â”‚   "id": 123,        â”‚
                    â”‚   "slug": "...",    â”‚
                    â”‚   "status": "ok"    â”‚
                    â”‚ }                   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Redirekcija         â”‚
                    â”‚                      â”‚
                    â”‚ /blog/index.html     â”‚
                    â”‚ ?status=created      â”‚
                    â”‚ &id=123              â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Forma - Sekcije i Tokovi

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ADMIN BLOG FORM                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ OSNOVNE INFORMACIJE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                       â”‚
â”‚  [Naslov]                                            â”‚
â”‚  â””â”€ Validacija: min 3 znaka                          â”‚
â”‚  â””â”€ Koristi se kao default slug                      â”‚
â”‚                                                       â”‚
â”‚  [Slug]                                              â”‚
â”‚  â””â”€ Format: samo mala slova, brojeve, crtice        â”‚
â”‚  â””â”€ Validacija: jedinstvena                          â”‚
â”‚  â””â”€ Generirano iz naslova ako je prazno              â”‚
â”‚                                                       â”‚
â”‚  [SaÅ¾etak]                                           â”‚
â”‚  â””â”€ Prikazuje se na blog listi                       â”‚
â”‚  â””â”€ Validacija: obavezno                             â”‚
â”‚                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ SEO OPTIMIZACIJA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                       â”‚
â”‚  [Meta naslov]                                       â”‚
â”‚  â””â”€ Prikazuje se u search result                     â”‚
â”‚  â””â”€ Max 60 znakova (bolde)                           â”‚
â”‚                                                       â”‚
â”‚  [Meta opis]                                         â”‚
â”‚  â””â”€ Prikazuje se ispod naslova u search              â”‚
â”‚  â””â”€ Max 160 znakova                                  â”‚
â”‚                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ SADRÅ½AJ OBJAVE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                       â”‚
â”‚  [Tekst objave] (obavezno)                           â”‚
â”‚  â””â”€ Glavnog poglavlje                                â”‚
â”‚  â””â”€ Min 50 znakova                                   â”‚
â”‚                                                       â”‚
â”‚  [+ Dodaj poglavlje]                                 â”‚
â”‚  â”œâ”€ TEXT poglavlje â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Textarea za tekst                            â”‚    â”‚
â”‚  â”‚  [Ukloni]                                     â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚  â”œâ”€ IMAGE poglavlje â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  [Odaberi tip] [Pozicija]                     â”‚    â”‚
â”‚  â”‚  [Naslov] [Alt tekst] [Opis]                  â”‚    â”‚
â”‚  â”‚  [Slika] [Ukloni]                             â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚  â”œâ”€ VIDEO poglavlje â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  [URL] [Opis]                                 â”‚    â”‚
â”‚  â”‚  [Ukloni]                                     â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ NASLOVNA SLIKA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Drag & Drop ili Klikni za odabir           â”‚    â”‚
â”‚  â”‚  JPG, PNG, WEBP (max 2 MB)                 â”‚    â”‚
â”‚  â”‚  â¬†ï¸                                         â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ [Pretpregled slike]                        â”‚    â”‚
â”‚  â”‚ Prikazuje se nakon upload                  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ KATEGORIJE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                       â”‚
â”‚  [ğŸ” PretraÅ¾i kategorije...]                        â”‚
â”‚  â˜ Prehrana                                          â”‚
â”‚  â˜ Fitness                                           â”‚
â”‚  â˜ Zdravlje                                          â”‚
â”‚  â˜ Wellness                                          â”‚
â”‚  â˜‘ Savjeti                                           â”‚
â”‚                                                       â”‚
â”‚  Odabrane:                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ Savjeti  âœ• â”‚ â”‚ Wellness âœ• â”‚ â”‚ Zdravlje âœ• â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ STATUS I OBJAVA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                       â”‚
â”‚  [Status]                    [Jezik]                 â”‚
â”‚  â”œâ”€ DRAFT                    â”œâ”€ HR                   â”‚
â”‚  â”œâ”€ PUBLISHED                â””â”€ EN                   â”‚
â”‚  â”œâ”€ SCHEDULED                                        â”‚
â”‚  â”œâ”€ HIDDEN                   â˜ Featured              â”‚
â”‚  â””â”€ ARCHIVED                                         â”‚
â”‚                                                       â”‚
â”‚  [Zakazano za] (vidljivo samo ako je SCHEDULED)     â”‚
â”‚  [Datum i vrijeme]                                   â”‚
â”‚                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ AKCIJE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                       â”‚
â”‚  [Kreiraj objavu] [Spremi kao skicu] [Odustani]      â”‚
â”‚                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Tok Validacije

```
â”Œâ”€ START â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                            â”‚
â”‚  Korisnik klikne "Kreiraj objavu"         â”‚
â”‚                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€ VALIDACIJA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                            â”‚
â”‚  âœ“ Naslov (min 3)?                        â”‚
â”‚  â”œâ”€ âœ— â†’ PrikaÅ¾i greÅ¡ku                   â”‚
â”‚  â””â”€ âœ“ â†’ Nastavi                          â”‚
â”‚                                            â”‚
â”‚  âœ“ Slug validan?                          â”‚
â”‚  â”œâ”€ âœ— â†’ PrikaÅ¾i greÅ¡ku                   â”‚
â”‚  â””â”€ âœ“ â†’ Nastavi                          â”‚
â”‚                                            â”‚
â”‚  âœ“ SadrÅ¾aj (min 50)?                      â”‚
â”‚  â”œâ”€ âœ— â†’ PrikaÅ¾i greÅ¡ku                   â”‚
â”‚  â””â”€ âœ“ â†’ Nastavi                          â”‚
â”‚                                            â”‚
â”‚  âœ“ Slika uÄitana?                         â”‚
â”‚  â”œâ”€ âœ— â†’ PrikaÅ¾i greÅ¡ku                   â”‚
â”‚  â””â”€ âœ“ â†’ Nastavi                          â”‚
â”‚                                            â”‚
â”‚  âœ“ SCHEDULED ima datum?                   â”‚
â”‚  â”œâ”€ âœ— â†’ PrikaÅ¾i greÅ¡ku                   â”‚
â”‚  â””â”€ âœ“ â†’ Nastavi                          â”‚
â”‚                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼ (Sve OK)
â”Œâ”€ PRIPREMA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                            â”‚
â”‚  1. Konvertiraj slike u Base64 ili upload â”‚
â”‚  2. Pakiraj poglavlja                     â”‚
â”‚  3. Pripremi FormData:                    â”‚
â”‚     - payload (JSON sa svim podacima)    â”‚
â”‚     - hero_image (datoteka)              â”‚
â”‚     - chapter_N_image (datoteke)         â”‚
â”‚                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€ SLANJE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                            â”‚
â”‚  POST /api/admin/posts (novo)             â”‚
â”‚  PUT /api/admin/posts/{id} (aÅ¾uriranje)  â”‚
â”‚                                            â”‚
â”‚  Headers:                                 â”‚
â”‚  Authorization: Bearer {token}           â”‚
â”‚  Content-Type: multipart/form-data       â”‚
â”‚                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€ ODGOVR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                            â”‚
â”‚  Backend obradi zahtjev                   â”‚
â”‚  â”œâ”€ OK (200) â†’ JSON s ID-om               â”‚
â”‚  â””â”€ ERROR â†’ JSON s porukom                â”‚
â”‚                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€ PREUSMJERAVANJE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                            â”‚
â”‚  window.location.href =                   â”‚
â”‚    /blog/index.html?status=created&id=123â”‚
â”‚                                            â”‚
â”‚  Lista prikazuje statusnu poruku           â”‚
â”‚                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Event Listeneri

```
â”Œâ”€ FORMA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                      â”‚
â”‚  form#post-form                                     â”‚
â”‚  â”œâ”€ submit â”€â”€â”€â”€â”€â”€â–º submitForm()                    â”‚
â”‚  â”‚                â”œâ”€ Validacija                    â”‚
â”‚  â”‚                â”œâ”€ FormData priprema             â”‚
â”‚  â”‚                â”œâ”€ API zahtjev                   â”‚
â”‚  â”‚                â””â”€ Redirekcija                   â”‚
â”‚  â”‚                                                  â”‚
â”‚  â”œâ”€ Status select â”€â–º handleStatusChange()          â”‚
â”‚  â”‚                 â””â”€ PrikaÅ¾i/Sakrij datum polje   â”‚
â”‚  â”‚                                                  â”‚
â”‚  â””â”€ Dugme draft â”€â”€â–º saveDraft()                    â”‚
â”‚                    â”œâ”€ Postavi status na DRAFT      â”‚
â”‚                    â”œâ”€ Pozovi submitForm()          â”‚
â”‚                    â””â”€ Vrati originalni status      â”‚
â”‚                                                      â”‚
â””â”€ DATOTEKE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                      â”‚
â”‚  input#post-hero-image                              â”‚
â”‚  â”œâ”€ change â”€â”€â”€â”€â”€â”€â–º ÄŒitaj datoteku                  â”‚
â”‚  â”‚                â”œâ”€ Validacija                    â”‚
â”‚  â”‚                â”œâ”€ FileReader                    â”‚
â”‚  â”‚                â””â”€ PrikaÅ¾i pretpregled          â”‚
â”‚  â”‚                                                  â”‚
â”‚  â””â”€ dropzone â”€â”€â”€â”€â–º Drag & drop                     â”‚
â”‚                   â”œâ”€ dragover â†’ Stiliziraj         â”‚
â”‚                   â”œâ”€ drop â”€â”€â”€â”€â–º ÄŒitaj datoteku    â”‚
â”‚                   â””â”€ dragleave â†’ Otpusti           â”‚
â”‚                                                      â”‚
â”‚  input.chapter-image                                â”‚
â”‚  â””â”€ change â”€â”€â”€â”€â”€â”€â–º ÄŒuva datoteku u pogavlju       â”‚
â”‚                                                      â”‚
â””â”€ KATEGORIJE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                      â”‚
â”‚  checkbox.category-item                             â”‚
â”‚  â”œâ”€ checked â”€â”€â”€â”€â”€â–º Dodaj u selectedCategories      â”‚
â”‚  â””â”€ unchecked â”€â”€â”€â–º Ukloni iz selectedCategories    â”‚
â”‚                   â””â”€ AÅ¾uriraj badge prikaz         â”‚
â”‚                                                      â”‚
â”‚  button.category-badge__remove                      â”‚
â”‚  â””â”€ click â”€â”€â”€â”€â”€â”€â”€â–º Ukloni iz odabira               â”‚
â”‚                                                      â”‚
â””â”€ POGLAVLJA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                      â”‚
â”‚  select.chapter-type-select                         â”‚
â”‚  â””â”€ change â”€â”€â”€â”€â”€â”€â–º Promijeni tip poglavlja          â”‚
â”‚                   â””â”€ Re-render s novim poljima     â”‚
â”‚                                                      â”‚
â”‚  textarea.chapter-text                              â”‚
â”‚  â””â”€ change â”€â”€â”€â”€â”€â”€â–º ÄŒuva tekst u pogavlju           â”‚
â”‚                                                      â”‚
â”‚  input.chapter-*                                    â”‚
â”‚  â””â”€ change â”€â”€â”€â”€â”€â”€â–º ÄŒuva vrijednost u pogavlju      â”‚
â”‚                                                      â”‚
â”‚  button.chapter-item__remove                        â”‚
â”‚  â””â”€ click â”€â”€â”€â”€â”€â”€â”€â–º ObriÅ¡i poglavlje                 â”‚
â”‚                   â””â”€ Re-order pozicije              â”‚
â”‚                                                      â”‚
â””â”€ DUGMAD â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                      â”‚
â”‚  button#add-chapter-btn                             â”‚
â”‚  â””â”€ click â”€â”€â”€â”€â”€â”€â”€â–º addChapter('TEXT')              â”‚
â”‚                   â””â”€ Dodaj novo poglavlje          â”‚
â”‚                                                      â”‚
â”‚  button#post-cancel                                 â”‚
â”‚  â””â”€ click â”€â”€â”€â”€â”€â”€â”€â–º window.location = 'index.html'  â”‚
â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## State Management

```
â”Œâ”€ GLOBALNE VARIJABLE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                    â”‚
â”‚  let authToken = localStorage.getItem(            â”‚
â”‚                   'svz_admin_token'                â”‚
â”‚                 )                                  â”‚
â”‚  â””â”€ JWT token za autentifikaciju                  â”‚
â”‚                                                    â”‚
â”‚  let currentPost = null                            â”‚
â”‚  â””â”€ PostojeÄ‡i post ako je edit mode               â”‚
â”‚                                                    â”‚
â”‚  let selectedCategories = []                       â”‚
â”‚  â”œâ”€ Odabrane kategorije                           â”‚
â”‚  â””â”€ Struktura: [{id, name, slug}, ...]           â”‚
â”‚                                                    â”‚
â”‚  let chapters = []                                 â”‚
â”‚  â”œâ”€ Lista svih poglavlja                          â”‚
â”‚  â””â”€ Struktura: [{id, type, position, ...}, ...]  â”‚
â”‚                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ STATE TOKOVI â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                   â”‚
â”‚  1. Kreiraj Post                                 â”‚
â”‚     chapters = []                                 â”‚
â”‚     selectedCategories = []                       â”‚
â”‚     currentPost = null                            â”‚
â”‚                                                   â”‚
â”‚  2. Uredi Post                                   â”‚
â”‚     loadPostForEdit(id)                           â”‚
â”‚     â”œâ”€ currentPost = {id, title, ...}            â”‚
â”‚     â”œâ”€ chapters = post.chapters                  â”‚
â”‚     â””â”€ selectedCategories = post.categories      â”‚
â”‚                                                   â”‚
â”‚  3. Dodaj Poglavlje                              â”‚
â”‚     chapters.push({id, type, ...})               â”‚
â”‚     renderChapters()                              â”‚
â”‚                                                   â”‚
â”‚  4. ObriÅ¡i Poglavlje                             â”‚
â”‚     chapters = chapters.filter(...)              â”‚
â”‚     chapters = chapters.map() // re-order        â”‚
â”‚     renderChapters()                              â”‚
â”‚                                                   â”‚
â”‚  5. Odaberi Kategoriju                           â”‚
â”‚     selectedCategories.push({id, name, slug})    â”‚
â”‚     updateSelectedCategories()                    â”‚
â”‚                                                   â”‚
â”‚  6. Spremi Post                                  â”‚
â”‚     submitForm()                                  â”‚
â”‚     â”œâ”€ FormData priprema                        â”‚
â”‚     â”œâ”€ API zahtjev                              â”‚
â”‚     â””â”€ State resetira nakon uspjeha             â”‚
â”‚                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## GreÅ¡ke i Fallback Tokovi

```
â”Œâ”€ AUTENTIFIKACIJA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                   â”‚
â”‚  if (!authToken) {                                â”‚
â”‚  â”œâ”€ showError("Niste prijavljeni")               â”‚
â”‚  â””â”€ window.location = '/admin/login.html'        â”‚
â”‚  }                                                â”‚
â”‚                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ UÄŒITAVANJE KATEGORIJA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                 â”‚
â”‚  try {                                          â”‚
â”‚  â”œâ”€ fetch('/api/admin/categories')             â”‚
â”‚  â”‚  â”œâ”€ OK â†’ renderCategoriesList()             â”‚
â”‚  â”‚  â””â”€ ERROR â†’ console.warn()                  â”‚
â”‚  â””â”€ catch â†’ console.warn()                     â”‚
â”‚  (Forma ide dalje bez greÅ¡ke)                  â”‚
â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ VALIDACIJA SLIKE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                   â”‚
â”‚  if (!SUPPORTED_IMAGE_TYPES.includes(...)) {      â”‚
â”‚  â”œâ”€ showError("Format nije podrÅ¾an")            â”‚
â”‚  â””â”€ return                                        â”‚
â”‚  }                                                â”‚
â”‚                                                   â”‚
â”‚  if (file.size > MAX_IMAGE_SIZE) {                â”‚
â”‚  â”œâ”€ showError("Slika je prevelika")             â”‚
â”‚  â””â”€ return                                        â”‚
â”‚  }                                                â”‚
â”‚                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ API GREÅ KE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                   â”‚
â”‚  try {                                            â”‚
â”‚  â”œâ”€ fetch() â†’ response.ok?                      â”‚
â”‚  â”‚  â”œâ”€ âœ“ â†’ Success                              â”‚
â”‚  â”‚  â””â”€ âœ— â†’ response.json() â†’ error              â”‚
â”‚  â”‚         throw new Error()                     â”‚
â”‚  â””â”€ catch(error)                                â”‚
â”‚     â””â”€ showError(error.message)                 â”‚
â”‚                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Ova arhitektura osigurava pouzdanu, sigurnu i brzu obrada podataka s jasnim tokovima i error handling-om.**
